<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // console.log("Hello world!")

        function getComputerChoice() {
            const choices = ["rock", "paper", "scissors"]

            return choices.at(Math.random()*3)
        }

        // console.log("The computer chose: " + getComputerChoice())

        function getHumanChoice () {
            validChoice = false

            while (!validChoice) {
                choice = prompt("Make your choice! ( rock | paper | scissors ): ")
                choice = choice.toLowerCase()

                if (choice === 'rock' || choice === 'paper' || choice === 'scissors') {
                    validChoice = true
                } else {
                    console.log('"' + choice + '" is not a valid entry. Please try again.')
                }
            }

            return choice
        }

        // console.log("The human chose: " + getHumanChoice())

        function capitalize (s){
            return s.at(0).toUpperCase() + s.slice(1)
        }

        function playRound () {
            const computerChoice = getComputerChoice();
            const humanChoice = getHumanChoice();
            let message;
            let winner = "draw";

            if (humanChoice === computerChoice) {
                message = "It's a draw! Both have chosen " + capitalize(humanChoice) + "."
            } else if ((humanChoice === 'paper' && computerChoice ==='rock') ||
                       (humanChoice === 'rock' && computerChoice ==='scissors') ||
                       (humanChoice === 'scissors' && computerChoice ==='paper')) {
                message = "You won! " + capitalize(humanChoice) + " beats " + capitalize(computerChoice) + "!"
                winner = "human"
            } else {
                message = "You lose! " + capitalize(computerChoice) + " beats " + capitalize(humanChoice) + "!"
                winner = "computer"
            }

            console.log(message)
            return winner

        }

        // playRound()

        function playGame() {
            let roundNumber = 1
            let humanScore = 0;
            let computerScore = 0;

            while (roundNumber < 6){
                let winner = playRound()

                if (winner == "human") {
                    humanScore++
                } else if (winner == "computer") {
                    computerScore++
                }

                console.log("Player's Score: " + humanScore + " | Computer's Score: " + computerScore)

                roundNumber++
            }

            let result;

            if (humanScore > computerScore) {
                result = "Congratulations! You WON!"
            } else if (humanScore == computerScore) {
                result = "It's a draw! Neither of you prevailed."
            } else {
                result = "Not your lucky day, the computer won."
            }
            
            console.log(result)
        }

        playGame()


    </script>
</body>
</html>